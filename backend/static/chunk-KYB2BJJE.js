import{a as V,c as N,d as T,f as D,h as R,i as j,o as q,q as L}from"./chunk-LJR2HZOE.js";import{a as W}from"./chunk-SROPCUAA.js";import{d as P}from"./chunk-APFEB53J.js";import{m as F,q as I}from"./chunk-K6RXEC2N.js";import{La as p,Na as l,Pa as t,Qa as i,Ra as f,Ua as w,Xa as x,Ya as h,Za as M,_,_a as a,ab as v,bb as S,cb as C,db as E,fb as y,ha as c,ia as u,wa as o,xa as g}from"./chunk-TBSY5OFZ.js";function k(e,b){if(e&1&&(t(0,"div",18),a(1),i()),e&2){let r=h();o(),v(" ",r.errorMessage," ")}}function B(e,b){if(e&1&&(t(0,"div",19),a(1),i()),e&2){let r=h();o(),v(" ",r.successMessage," ")}}function G(e,b){e&1&&f(0,"span",20)}var X=(()=>{class e{constructor(r,s){this.auth=r,this.router=s,this.email="",this.errorMessage=null,this.successMessage=null,this.loading=!1}submit(){if(this.errorMessage=null,this.successMessage=null,!this.email){this.errorMessage="Informe um email v\xE1lido.";return}this.loading=!0,this.auth.requestPasswordReset(this.email).subscribe({next:()=>{this.successMessage="Se esse email estiver cadastrado, voc\xEA receber\xE1 instru\xE7\xF5es para redefinir sua senha."},error:r=>{console.error("Erro ao solicitar redefini\xE7\xE3o de senha:",r),this.errorMessage="Ocorreu um erro. Tente novamente mais tarde."},complete:()=>{this.loading=!1}})}static{this.\u0275fac=function(s){return new(s||e)(g(W),g(P))}}static{this.\u0275cmp=_({type:e,selectors:[["app-forgot-password"]],standalone:!0,features:[y],decls:23,vars:5,consts:[["forgotForm","ngForm"],[1,"forgot-password","container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","shadow","p-4",2,"max-width","400px","width","100%"],[1,"text-center","mb-4"],["src","/assets/images/logo-painel.png","alt","Logo","height","60"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"text-center"],[1,"mb-2","text-center"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Digite seu email","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"mt-3","text-center"],["routerLink","/login",1,"text-decoration-none"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(s,n){if(s&1){let m=w();t(0,"div",1)(1,"div",2)(2,"h2",3),f(3,"img",4),i(),p(4,k,2,1,"div",5)(5,B,2,1,"div",6),t(6,"h3",7),a(7,"Redefina sua Senha:"),i(),t(8,"p",8),a(9,"Digite seu email cadastrado para receber instru\xE7\xF5es de redefini\xE7\xE3o de senha."),i(),t(10,"form",9,0),x("ngSubmit",function(){return c(m),u(n.submit())}),t(12,"div",10)(13,"label",11),a(14,"Email:"),i(),t(15,"input",12),E("ngModelChange",function(d){return c(m),C(n.email,d)||(n.email=d),u(d)}),i()(),t(16,"div",13)(17,"button",14),p(18,G,1,0,"span",15),a(19," Enviar solicita\xE7\xE3o "),i()()(),t(20,"div",16)(21,"a",17),a(22,"Voltar ao login"),i()()()()}if(s&2){let m=M(11);o(4),l("ngIf",n.errorMessage),o(),l("ngIf",n.successMessage),o(10),S("ngModel",n.email),o(2),l("disabled",m.invalid||n.loading),o(),l("ngIf",n.loading)}},dependencies:[I,F,L,j,V,N,T,q,R,D]})}}return e})();export{X as ForgotPasswordComponent};
