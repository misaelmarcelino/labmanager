import{a as V,c as N,d as T,f as D,h as L,i as R,o as q,q as W}from"./chunk-YFECTA2Y.js";import{a as j}from"./chunk-YJEBKNWG.js";import{e as P}from"./chunk-CMUAIOSF.js";import{$a as y,Ab as F,Eb as I,Ha as g,Ja as s,La as t,Ma as i,Na as p,Qa as w,Ra as M,Sa as f,Ta as x,Ua as a,Wa as h,Xa as S,Y as b,Ya as C,Za as E,ea as c,fa as u,ta as o,ua as _}from"./chunk-LOHWPVPR.js";function A(e,v){if(e&1&&(t(0,"div",18),a(1),i()),e&2){let r=f();o(),h(" ",r.errorMessage," ")}}function B(e,v){if(e&1&&(t(0,"div",19),a(1),i()),e&2){let r=f();o(),h(" ",r.successMessage," ")}}function G(e,v){e&1&&p(0,"span",20)}var X=(()=>{class e{constructor(r){this.auth=r,this.email="",this.errorMessage=null,this.successMessage=null,this.loading=!1}submit(){if(this.errorMessage=null,this.successMessage=null,!this.email){this.errorMessage="Informe um email v\xE1lido.";return}this.loading=!0,this.auth.requestPasswordReset(this.email).subscribe({next:()=>{this.successMessage="Se esse email estiver cadastrado, voc\xEA receber\xE1 instru\xE7\xF5es para redefinir sua senha."},error:r=>{console.error("Erro ao solicitar redefini\xE7\xE3o de senha:",r),this.errorMessage="Ocorreu um erro. Tente novamente mais tarde."},complete:()=>{this.loading=!1}})}static{this.\u0275fac=function(l){return new(l||e)(_(j))}}static{this.\u0275cmp=b({type:e,selectors:[["app-forgot-password"]],standalone:!0,features:[y],decls:23,vars:6,consts:[["forgotForm","ngForm"],[1,"forgot-password","container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","shadow","p-4",2,"max-width","400px","width","100%"],[1,"text-center","mb-4"],["src","/assets/images/logo-painel.png","alt","Logo","height","60"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"text-center"],[1,"mb-2","text-center"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Digite seu email","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"mt-3","text-center"],["routerLink","/login",1,"text-decoration-none"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(l,n){if(l&1){let m=w();t(0,"div",1)(1,"div",2)(2,"h2",3),p(3,"img",4),i(),g(4,A,2,1,"div",5)(5,B,2,1,"div",6),t(6,"h3",7),a(7,"Redefina sua Senha:"),i(),t(8,"p",8),a(9,"Digite seu email cadastrado para receber instru\xE7\xF5es de redefini\xE7\xE3o de senha."),i(),t(10,"form",9,0),M("ngSubmit",function(){return c(m),u(n.submit())}),t(12,"div",10)(13,"label",11),a(14,"Email:"),i(),t(15,"input",12),E("ngModelChange",function(d){return c(m),C(n.email,d)||(n.email=d),u(d)}),i()(),t(16,"div",13)(17,"button",14),g(18,G,1,0,"span",15),a(19," Enviar solicita\xE7\xE3o "),i()()(),t(20,"div",16)(21,"a",17),a(22,"Voltar ao login"),i()()()()}if(l&2){let m=x(11);o(4),s("ngIf",n.errorMessage),o(),s("ngIf",n.successMessage),o(10),S("ngModel",n.email),s("disabled",n.loading),o(2),s("disabled",m.invalid||n.loading),o(),s("ngIf",n.loading)}},dependencies:[I,F,W,R,V,N,T,q,L,D,P]})}}return e})();export{X as ForgotPasswordComponent};
