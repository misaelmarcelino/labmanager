import{a as _}from"./chunk-56JTWGFO.js";import{a as S}from"./chunk-IKJJW2AB.js";import{e as C,g as E}from"./chunk-XU55PKE2.js";import{$a as v,Ab as f,Eb as b,Ha as x,Ja as l,La as e,Ma as t,Na as u,Sa as c,Ua as n,Va as s,Wa as g,Y as h,ta as a,ua as m}from"./chunk-KKA7MAXA.js";function M(r,p){r&1&&(e(0,"div",5),u(1,"div",6),e(2,"p"),n(3,"Carregando dados..."),t()())}function P(r,p){if(r&1&&(e(0,"div",7),n(1),t()),r&2){let i=c();a(),g(" ",i.errorMessage," ")}}function I(r,p){if(r&1&&(e(0,"div")(1,"div",8)(2,"div",9)(3,"a",10)(4,"div",11)(5,"div",12)(6,"h5",13),n(7,"Usu\xE1rios"),t(),e(8,"h2",14),n(9),t()()()()(),e(10,"div",9)(11,"a",15)(12,"div",16)(13,"div",12)(14,"h5",13),n(15,"Equipamentos"),t(),e(16,"h2",17),n(17),t()()()()(),e(18,"div",9)(19,"a",15)(20,"div",18)(21,"div",12)(22,"h5",13),n(23,"Pendentes"),t(),e(24,"h2",19),n(25),t()()()()(),e(26,"div",9)(27,"a",15)(28,"div",20)(29,"div",12)(30,"h5",13),n(31,"Reprovados"),t(),e(32,"h2",21),n(33),t()()()()()(),e(34,"div",22)(35,"div",12)(36,"h5",23),n(37,"Resumo de Equipamentos"),t(),e(38,"div",24)(39,"a",25)(40,"span",26),n(41,"Aprovados"),t(),e(42,"h4"),n(43),t()(),e(44,"a",27)(45,"span",28),n(46,"Pendentes"),t(),e(47,"h4"),n(48),t()(),e(49,"a",29)(50,"span",30),n(51,"Reprovados"),t(),e(52,"h4"),n(53),t()()()()()()),r&2){let i=c();a(9),s(i.totalUsers),a(8),s(i.totalEquipments),a(8),s(i.pendingCount),a(8),s(i.rejectedCount),a(10),s(i.approvedCount),a(5),s(i.pendingCount),a(5),s(i.rejectedCount)}}var j=(()=>{class r{constructor(i,o){this.usersService=i,this.equipmentsService=o,this.totalUsers=0,this.totalEquipments=0,this.approvedCount=0,this.pendingCount=0,this.rejectedCount=0,this.loading=!0,this.errorMessage=null}ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.loading=!0,Promise.all([this.usersService.listAll().toPromise(),this.equipmentsService.listAll().toPromise()]).then(([i,o])=>{this.totalUsers=i.length,this.totalEquipments=o.length,this.approvedCount=o.filter(d=>d.status==="APROVADO").length,this.pendingCount=o.filter(d=>d.status==="PENDENTE").length,this.rejectedCount=o.filter(d=>d.status==="REPROVADO").length}).catch(i=>{console.error("Erro ao carregar dashboard:",i),this.errorMessage="N\xE3o foi poss\xEDvel carregar os dados do dashboard."}).finally(()=>{this.loading=!1})}static{this.\u0275fac=function(o){return new(o||r)(m(S),m(_))}}static{this.\u0275cmp=h({type:r,selectors:[["app-dashboard"]],standalone:!0,features:[v],decls:6,vars:3,consts:[[1,"dashboard","container","mt-4"],[1,"text-primary","fw-bold","mb-4"],["class","text-center my-5",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"text-center","my-5"],["role","status",1,"spinner-border","text-primary"],[1,"alert","alert-danger"],[1,"row","g-4","mb-4"],[1,"col-md-3"],["routerLink","/portal/usuarios",1,"card-link"],[1,"card","text-center","shadow-sm","border-primary"],[1,"card-body"],[1,"card-title","text-muted"],[1,"text-primary"],["routerLink","/portal/equipamentos",1,"card-link"],[1,"card","text-center","shadow-sm","border-success"],[1,"text-success"],[1,"card","text-center","shadow-sm","border-warning"],[1,"text-warning"],[1,"card","text-center","shadow-sm","border-danger"],[1,"text-danger"],[1,"card","shadow-sm"],[1,"card-title","text-primary"],[1,"d-flex","justify-content-around","mt-3"],["routerLink","/portal/equipamentos",1,"text-decoration-none","text-center","text-success"],[1,"badge","bg-success"],["routerLink","/portal/equipamentos",1,"text-decoration-none","text-center","text-warning"],[1,"badge","bg-warning","text-dark"],["routerLink","/portal/equipamentos",1,"text-decoration-none","text-center","text-danger"],[1,"badge","bg-danger"]],template:function(o,d){o&1&&(e(0,"section",0)(1,"h2",1),n(2,"Painel de Controle"),t(),x(3,M,4,0,"div",2)(4,P,2,1,"div",3)(5,I,54,7,"div",4),t()),o&2&&(a(3),l("ngIf",d.loading),a(),l("ngIf",d.errorMessage),a(),l("ngIf",!d.loading&&!d.errorMessage))},dependencies:[b,f,E,C],styles:[".dashboard[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-width:2px;border-radius:12px;transition:transform .2s ease-in-out,box-shadow .2s;cursor:pointer}.dashboard[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #00000026}.dashboard[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.dashboard[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%]:hover{text-decoration:none}.dashboard[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}"]})}}return r})();export{j as a};
