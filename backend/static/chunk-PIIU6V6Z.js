import{a as V,c as N,d as T,f as D,h as j,i as q,o as L,q as R}from"./chunk-LJR2HZOE.js";import{a as W}from"./chunk-VU3Q3O6K.js";import{d as P}from"./chunk-APFEB53J.js";import{m as E,q as I}from"./chunk-K6RXEC2N.js";import{La as u,Na as l,Pa as i,Qa as n,Ra as f,Ua as w,Xa as M,Ya as h,Za as C,_ as b,_a as a,ab as v,bb as x,cb as S,db as y,fb as F,ha as c,ia as g,wa as o,xa as p}from"./chunk-TBSY5OFZ.js";function k(e,_){if(e&1&&(i(0,"div",16),a(1),n()),e&2){let t=h();o(),v(" ",t.errorMessage," ")}}function B(e,_){if(e&1&&(i(0,"div",17),a(1),n()),e&2){let t=h();o(),v(" ",t.successMessage," ")}}function G(e,_){e&1&&f(0,"span",18)}var X=(()=>{class e{constructor(t,s){this.auth=t,this.router=s,this.email="",this.errorMessage=null,this.successMessage=null,this.loading=!1}submit(){if(this.errorMessage=null,this.successMessage=null,!this.email){this.errorMessage="Informe um email v\xE1lido.";return}this.loading=!0,this.auth.requestPasswordReset(this.email).subscribe({next:()=>{this.successMessage="Se esse email estiver cadastrado, voc\xEA receber\xE1 instru\xE7\xF5es para redefinir sua senha."},error:t=>{console.error("Erro ao solicitar redefini\xE7\xE3o de senha:",t),this.errorMessage="Ocorreu um erro. Tente novamente mais tarde."},complete:()=>{this.loading=!1}})}static{this.\u0275fac=function(s){return new(s||e)(p(W),p(P))}}static{this.\u0275cmp=b({type:e,selectors:[["app-forgot-password"]],standalone:!0,features:[F],decls:19,vars:5,consts:[["forgotForm","ngForm"],[1,"forgot-password","container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","shadow","p-4",2,"max-width","400px","width","100%"],[1,"text-center","mb-4"],["src","/assets/images/logo-painel.png","alt","Logo","height","60"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Digite seu email","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"mt-3","text-center"],["routerLink","/login",1,"text-decoration-none"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(s,r){if(s&1){let m=w();i(0,"div",1)(1,"div",2)(2,"h2",3),f(3,"img",4),n(),u(4,k,2,1,"div",5)(5,B,2,1,"div",6),i(6,"form",7,0),M("ngSubmit",function(){return c(m),g(r.submit())}),i(8,"div",8)(9,"label",9),a(10,"Email:"),n(),i(11,"input",10),y("ngModelChange",function(d){return c(m),S(r.email,d)||(r.email=d),g(d)}),n()(),i(12,"div",11)(13,"button",12),u(14,G,1,0,"span",13),a(15," Enviar solicita\xE7\xE3o "),n()()(),i(16,"div",14)(17,"a",15),a(18,"Voltar ao login"),n()()()()}if(s&2){let m=C(7);o(4),l("ngIf",r.errorMessage),o(),l("ngIf",r.successMessage),o(6),x("ngModel",r.email),o(2),l("disabled",m.invalid||r.loading),o(),l("ngIf",r.loading)}},dependencies:[I,E,R,q,V,N,T,L,j,D]})}}return e})();export{X as ForgotPasswordComponent};
