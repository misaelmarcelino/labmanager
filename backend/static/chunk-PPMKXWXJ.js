import"./chunk-5SG2J563.js";import{a as F,c as I,d as D,f as W,h as P,i as T,o as j,q}from"./chunk-LJR2HZOE.js";import{a as A}from"./chunk-VU3Q3O6K.js";import{d as N}from"./chunk-APFEB53J.js";import{m as L,q as x}from"./chunk-K6RXEC2N.js";import{La as _,Na as u,Pa as e,Qa as o,Ra as C,Ua as v,Xa as y,Ya as S,Za as b,_ as M,_a as m,ab as V,bb as c,cb as f,db as h,fb as E,ha as d,ia as g,wa as l,xa as p}from"./chunk-TBSY5OFZ.js";function O(r,B){if(r&1&&(e(0,"div",14),m(1),o()),r&2){let t=S();l(),V(" ",t.errorMessage," ")}}var X=(()=>{class r{constructor(t,i){this.auth=t,this.router=i,this.email="",this.password="",this.errorMessage=null}login(){this.errorMessage=null,this.auth.login(this.email,this.password).subscribe({next:t=>{let i=t.role==="ADMIN"?"/portal":"/home";this.router.navigate([i])},error:t=>{this.errorMessage="Usu\xE1rio ou senha incorretos."}})}static{this.\u0275fac=function(i){return new(i||r)(p(A),p(N))}}static{this.\u0275cmp=M({type:r,selectors:[["app-login"]],standalone:!0,features:[E],decls:18,vars:4,consts:[["loginForm","ngForm"],[1,"login","container","d-flex","justify-content-center","align-items-center"],[1,"card","shadow","p-4"],[1,"text-center","mb-4"],["src","/assets/images/logo-painel.png","alt","Logo","height","60"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Digite seu email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Digite sua senha","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"]],template:function(i,n){if(i&1){let s=v();e(0,"div",1)(1,"div",2)(2,"h2",3),C(3,"img",4),o(),_(4,O,2,1,"div",5),e(5,"form",6,0),y("ngSubmit",function(){return d(s),g(n.login())}),e(7,"div",7)(8,"label",8),m(9,"Email:"),o(),e(10,"input",9),h("ngModelChange",function(a){return d(s),f(n.email,a)||(n.email=a),g(a)}),o()(),e(11,"div",7)(12,"label",10),m(13,"Senha:"),o(),e(14,"input",11),h("ngModelChange",function(a){return d(s),f(n.password,a)||(n.password=a),g(a)}),o()(),e(15,"div",12)(16,"button",13),m(17," Entrar "),o()()()()()}if(i&2){let s=b(6);l(4),u("ngIf",n.errorMessage),l(6),c("ngModel",n.email),l(4),c("ngModel",n.password),l(2),u("disabled",s.invalid)}},dependencies:[x,L,q,T,F,I,D,j,P,W],styles:[".login[_ngcontent-%COMP%]{min-height:80vh}.login[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{max-width:400px;width:100%}"]})}}return r})();export{X as LoginComponent};
