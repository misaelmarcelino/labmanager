<!-- 游댳 Fundo do modal -->
<div class="modal-backdrop" *ngIf="visible" (click)="cancel()"></div>

<!-- 游댳 Container do modal -->
<div class="modal-container" *ngIf="visible">
  <div class="modal-box animate-in" [ngClass]="config.type">

    <!-- 游댳 Cabe칞alho -->
    <header class="modal-header">
      <h3 class="modal-title">{{ config.title }}</h3>
      <button type="button" class="btn-close" (click)="cancel()">
        <i class="bi bi-x-lg"></i>
      </button>
    </header>

    <!-- 游댳 Corpo -->
    <section class="modal-body">
      <ng-container [ngSwitch]="config.type">

        <!-- 游댲 Info -->
        <p *ngSwitchCase="'info'" class="modal-message">
          {{ config.message }}
        </p>

        <!-- 游댲 Confirm -->
        <p *ngSwitchCase="'confirm'" class="modal-message">
          {{ config.message }}
        </p>

        <!-- 游댲 Formul치rio -->
        <form *ngSwitchCase="'form'" [formGroup]="form" class="form-grid" (ngSubmit)="confirm()">

          <!-- 游댳 Formul치rio de Usu치rio -->
          <ng-container *ngIf="config.entityType === 'user'">

            <label>Nome:</label>
            <input formControlName="name" placeholder="Digite o nome" />

            <label>Email:</label>
            <input formControlName="email" placeholder="Digite o email" />

            <label>Fun칞칚o:</label>
            <select formControlName="role">
              <option value="ADMIN">Administrador</option>
              <option value="USER">Usu치rio</option>
            </select>
          </ng-container>

          <!-- 游댳 Formul치rio de Equipamento -->
          <ng-container *ngIf="config.entityType === 'equipment'">
            <label>C칩digo:</label>
            <input formControlName="codigo" placeholder="Digite o c칩digo do posto" />
            <label>Posto:</label>
            <input formControlName="nome_do_posto" placeholder="Digite o nome do posto" />

            <label>Raz칚o de Uso:</label>
            <select formControlName="razao_uso">
              <option value="ABASTECE">Abastece</option>
              <option value="ESTACIONE">Estacione</option>
              <option value="DRIVE">Drive</option>
              <option value="CONCESSIONARIA">Concession치ria</option>
              <option value="OUTROS">Outros</option>
            </select>

            <label>Vers칚o da Solu칞칚o:</label>
            <input formControlName="versao_solucao" placeholder="Digite a vers칚o da solu칞칚o" />

            <label>Descri칞칚o:</label>
            <input formControlName="descricao" placeholder="Digite uma breve descricao de homologa칞칚o" />

            <label>Data Limite:</label>
            <input type="date" formControlName="data_limite" />

            <label>Respons치vel:</label>
            <input formControlName="responsavel" placeholder="Respons치vel pelo equipamento" />

            <label>Status:</label>
            <select formControlName="status">
              <option value="PENDENTE">Pendente</option>
              <option value="APROVADO">Aprovado</option>
              <option value="REPROVADO">Reprovado</option>
            </select>
          </ng-container>
        </form>
      </ng-container>
    </section>

    <!-- 游댳 Rodap칠 -->
    <footer class="modal-actions">
      <button type="button" class="btn-cancel" (click)="cancel()">
        <i class="bi bi-x-circle"></i>
        Cancelar
      </button>

      <button
        *ngIf="config.type === 'form'"
        type="submit"
        class="btn-confirm"
        [disabled]="form.invalid"
        (click)="confirm()">
        <i class="bi bi-check-circle"></i>
        Salvar
      </button>

      <button
        *ngIf="config.type === 'confirm'"
        class="btn-confirm"
        (click)="confirm()">
        <i class="bi bi-check-circle"></i>
        Confirmar
      </button>

      <button
        *ngIf="config.type === 'info'"
        class="btn-ok"
        (click)="cancel()">
        <i class="bi bi-check2-circle"></i>
        Fechar
      </button>
    </footer>
  </div>
</div>
